!function(t){"use strict";var D=function(t,e,a){var n=new Uint8Array(t,e,a);return e=void 0===e?0:e,a=void 0===a?t.byteLength:a,String.fromCharCode.apply(null,n)},i=function(t){var e,a,n,r,i,d,f,o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,h=void 0;if(h=t.getUint32(o),n="uuid"==(e=D(t.buffer,t.byteOffset+o+4,4)),a=1==h){var u=o+8,g=t.buffer.slice(u,u+8);r=new DataView(g),i=r.getUint32(0),d=r.getUint32(4),f=2147483647&i,h=0!=(2147483648&i)?-1*(4294967296*f+d):4294967296*f+d}return{type:e,size:h,headerLength:(a?8:0)+(n?128:0)+8,data:new DataView(t.buffer,t.byteOffset+o,h)}},O=function(t,e,a,n){var r=t[a](e);return e+=n,r+t[a](e)},P=function(t,e){var a=void 0;return t.map(function(t){e==t.type&&(a=t)}),a},V=function(t){try{var e=void 0,a=void 0,n=void 0;for((n=t)instanceof ArrayBuffer&&(n={data:new DataView(t),offset:0,headerLength:0,size:t.byteLength,type:"root"}),a=n.headerLength,e=[];a<n.size;){var r=i(n.data,a);a+=r.size,e.push(r)}return e}catch(t){return}};t.getMediaInfo=function(t){var M,z={};return V(P(V(t),"moov")).map(function(t){if("mvhd"==t.type){var e=t.headerLength;e+=4+(1==t.data.getUint8(e)?16:8);var a=t.data.getUint32(e),n=t.data.getUint32(e+4);M=n/a}if("trak"==t.type){var r=V(t),i=P(r,"mdia"),d=V(i),f=P(d,"hdlr");if("vide"==D(f.data.buffer,f.data.byteOffset+16,4)){for(var o=P(d,"minf"),h=P(d,"mdhd"),u=V(o),g=P(u,"stbl"),v=V(g),s=P(v,"stts"),c=P(r,"tkhd"),y=s.data.getUint32(s.headerLength+4),b=[],p=s.headerLength+8,U=0;U<y;U++)b[U]={},b[U].timescale=s.data.getUint32(p+4*U),b[U].duration=s.data.getUint32(p+4*U+4);var L=h.data.getUint32(h.headerLength+12),m=c.data.byteLength-44,l=180*Math.atan2(c.data.getInt32(m+4),c.data.getInt32(m))/Math.PI,w=O(c.data,m+36,"getInt16",2),I=O(c.data,m+40,"getInt16",2);z={rotation:l,width:w,height:I,fps:L/b[0].duration,duration:M}}}}),z}}(this.MP4=this.MP4||{});
//# sourceMappingURL=mp4.info.min.js.map
